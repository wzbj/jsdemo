<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>async await</title>
</head>
<body>

</body>
<script type="text/javascript">
	async function fn(){
		console.log(1);

		// let v1 = await getData();
		// console.log(v1);

		// let v2 = await getData();
		// console.log(v2);

		// let v3 = await getData();
		// console.log(v3);

		// for(var i=0; i<4; i++){
		// 	console.log(await getData());
		// }

		// 有错误信息用try捕获
		try{
			var v1 = await getData();
		}catch(e){
			console.log(e);
			console.log('error');
		};

		console.log(3);
	}

	function getData(){
		return new Promise( (resolve,reject) => {
			setTimeout(() => {
				// resolve(100);
				reject('err');
			},1000);	
		} );
		
	};

	fn();
</script>
</html>